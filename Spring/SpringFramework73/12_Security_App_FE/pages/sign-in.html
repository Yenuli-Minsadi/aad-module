<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign In</title>

    <!-- Google Identity Services -->
    <script src="https://accounts.google.com/gsi/client" async defer></script>

    <style>
        *{
            margin:0;
            padding:0;
            box-sizing:border-box;
            font-family:'Segoe UI', sans-serif;
        }

        body{
            height:100vh;
            display:flex;
            justify-content:center;
            align-items:center;
            background: linear-gradient(135deg,#667eea,#764ba2);
        }

        .container{
            width:400px;
            padding:40px;
            background:white;
            border-radius:12px;
            box-shadow:0 15px 35px rgba(0,0,0,0.2);
        }

        .container h2{
            text-align:center;
            margin-bottom:25px;
            color:#333;
        }

        .input-group{
            margin-bottom:18px;
        }

        .input-group input{
            width:100%;
            padding:12px;
            border-radius:8px;
            border:1px solid #ccc;
            outline:none;
            transition:0.3s;
        }

        .input-group input:focus{
            border-color:#764ba2;
        }

        button{
            width:100%;
            padding:12px;
            border:none;
            border-radius:8px;
            background:#764ba2;
            color:white;
            font-size:16px;
            cursor:pointer;
            transition:0.3s;
        }

        button:hover{
            background:#5a357a;
        }

        .divider{
            text-align:center;
            margin:20px 0;
            color:#888;
        }

        .link{
            margin-top:15px;
            text-align:center;
            font-size:14px;
        }

        .link a{
            color:#764ba2;
            text-decoration:none;
            font-weight:bold;
        }

        .google-btn-container{
            display:flex;
            justify-content:center;
        }
    </style>
</head>

<body>

<div class="container">
    <h2>Sign In</h2>

    <form>
        <div class="input-group">
            <input type="email" placeholder="Email" required>
        </div>

        <div class="input-group">
            <input type="password" placeholder="Password" required>
        </div>

        <button type="submit">Sign In</button>
    </form>

    <div class="divider">OR</div>

    <!-- Google Sign In Button -->
    <div class="google-btn-container">
        <div id="g_id_onload"
             data-client_id="YOUR_GOOGLE_CLIENT_ID"
             data-callback="handleCredentialResponse">
        </div>

        <div class="g_id_signin"
             data-type="standard"
             data-size="large"
             data-theme="outline"
             data-text="sign_in_with"
             data-shape="rectangular"
             data-logo_alignment="left">
        </div>
    </div>

    <div class="link">
        Don't have an account?
        <a href="signup.html">Sign Up</a>
    </div>
</div>

<script>
    function handleCredentialResponse(response) {
        console.log("Encoded JWT ID token: " + response.credential);

        // Decode JWT payload
        const data = parseJwt(response.credential);

        alert("Welcome " + data.name + " ðŸŽ‰");

        console.log(data);
    }

    // Function to decode JWT
    function parseJwt (token) {
        var base64Url = token.split('.')[1];
        var base64 = base64Url.replace(/-/g, '+').replace(/_/g, '/');
        var jsonPayload = decodeURIComponent(atob(base64).split('').map(function(c) {
            return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);
        }).join(''));

        return JSON.parse(jsonPayload);
    }
</script>

</body>
</html>
